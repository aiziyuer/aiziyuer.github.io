---
layout: post
title: 怎样加速你的博客
categories: [博客]
tags: [技术]
published: true
---

## 背景

众所周知,墙内的生活是拮据的,国内访问github速度一直都非常缓慢,如果你跟我一样选择github的pages服务的话应该会碰到跟我一样的烦恼;

- 国内访问速度巨慢, 但是国外的github服务非常稳定, 而且免费
- 国内有替代品`coding.net`(gitcafe是他的前身), 但是全部放到上面不太放心

搜索了一下, 发现有人已经想到了解决的办法, 这里只是做一些简单的说明

## 原理

如今的域名解析已经非常多样了, 除了普通意义的顶级域名(.com)的根域名解析, 想godday这样的大厂还会把域名映射功能"外包"出去,即允许
第三方的域名服务提供商来提供这部分域名的解析功能, 而国内的`dnspod`就是这样一个存在, 它虽然不具备顶级域名的发放功能,但是实际上
他是具有这样的能力(生得太晚了), 而且它的功能做的已经比godday还要好, 它可以针对线路的类型来分流;

如果是`godday`+`dnspod`这样的组合,我们访问我们域名的整个过程就变成了 浏览器请求 -> 根域名服务解析 -> 一级域名解析 
-> DNSPod根据请求的发起线路选择服务节点 -> 最终的服务提供 -> 相应请求

## 我对CNAME的理解

我觉得博客中的`CNAME`文件在`github`中会起到一个跳转作用, 但是不论是`github`还是`coding.net`, 其实C`NAME`文件只是为了
让他们的服务器面授`DDOS`攻击,对于博客作者和博客观众没有任何作用.

DNS记录中配置的`CNAME`是有用处的,它允许你使用域名的方式制定私服节点(运行博客的服务器);

## 具体配置

1. 到[`dnspod`](https://www.dnspod.cn/)注册个号, 然后进入控制台准备配置;
2. 找到***域名解析***然后***添加域名***,这里基本都是傻瓜式;
3. 添加三条记录, 根据线路类型做分流的两条记录以及一条默认线路:

	编号	|主机记录	|记录类型	|线路类型	| 记录值
	1	|@ 		|CNAME	|默认 	| aiziyuer.github.io
	2	|@ 		|CNAME 	|国内 	| aiziyuer.coding.me
	3	|@		|CNAME 	|国外 	| aiziyuer.github.io

4. 需要设置`godday`使用`dnspod`来做`nameservice`;
	godday 的DNS Manager -> Nameservers 选择自定义 -> 添加两条`f1g1ns1.dnspod.net`、`f1g1ns2.dnspod.net`
	-> 保存然后等待修改生效